## Планировщик производства

Первая версия планировщика реализована как простой жадный алгоритм в `api/src/modules/production/planner.ts`.

### Входные данные

- `PlannableJob`:
  - `id` — идентификатор производственного задания (`ProductionJob.id`).
  - `orderItemId` — связанная позиция заказа.
  - `estimatedHours` — оценка времени печати и пост‑обработки в часах.
  - `priority` — приоритет задания (чем больше, тем важнее).
- `PrinterSlot`:
  - `id` — идентификатор принтера.
  - `name` — человекочитаемое имя.
  - `availableFrom` — момент времени, когда принтер становится свободен.

### Алгоритм

1. Задания сортируются по:
   - приоритету (по убыванию),
   - затем по оценочному времени (по возрастанию).
2. Для каждого задания выбирается принтер, который освободится раньше остальных.
3. Для выбранного принтера рассчитываются:
   - `startAt` — момент начала (его текущее `availableFrom`),
   - `endAt` — `startAt + estimatedHours`.
4. Состояние принтера обновляется (`availableFrom = endAt`), план добавляется в результат.

### Выходные данные

- `PlannedJob`:
  - `jobId` — идентификатор задания.
  - `printerId` — назначенный принтер.
  - `startAt`, `endAt` — интервал выполнения.

В следующих итерациях алгоритм можно расширить:

- учётом окон рабочего времени,
- типами материалов и совместимостью с принтерами,
- ограничениями по обслуживанию оборудования,
- более сложными эвристиками или AI‑подходами.

